{% extends "base.html" %}
{% block content%}

<h3 class="amber-text text-darken-4 center-align">Edit Motion</h3>

<div class="row card-panel amber lighten-5">
        <form class="col s12" method="POST" action="{{ url_for('edit_motion', motion_id=motion._id) }}">
            <!-- Motion date -->
            <div class="row">
                <div class="input-field col s12">
                    <i class="fas fa-calendar-alt prefix amber-text text-darken-4"></i>
                    <input id="motion_date" name="motion_date" type="text" value="{{ motion.motion_date }}" class="datepicker validate" required>
                    <label for="motion_date">Date of motion</label>
                </div>
            </div>

            <!-- What council -->
            <div class="row">
                <div class="input-field col s12">
                    <i class="fas fa-building prefix amber-text text-darken-4"></i>
                    <select id="council_name" name="council_name" class="validate" required>
                    <option value="" disabled >Choose a Council</option>
                    <optgroup label="City Councils">
                        <option value="Cork City">Cork City Council</option>
                        <option value="Dublin City">Dublin City Council</option>
                        <option value="Galway City">Galway City Council</option>
                    </optgroup>
                    <optgroup label="County Councils">
                        <option value="Carlow County">Carlow County Council</option>
                        <option value="Cavan County">Cavan County Council</option>
                        <option value="Clare County">Clare County Council</option>
                        <option value="Cork County">Cork County Council</option>
                        <option value="Donegal County">Donegal County Council</option>
                        <option value="Dun Laoghaire / Rathdown">Dun Laoghaire / Rathdown</option>
                        <option value="Fingal County">Fingal County Council</option>
                        <option value="Galway County">Galway County Council</option>
                        <option value="Kerry County">Kerry County Council</option>
                        <option value="Kildare County">Kildare County Council</option>
                        <option value="Kilkenny County">Kilkenny County Council</option>
                        <option value="Laois County">Laois County Council</option>
                        <option value="Leitrim County">Leitrim County Council</option>
                        <option value="Longford County">Longford County Council</option>
                        <option value="Louth County">Louth County Council</option>
                        <option value="Mayo County">Mayo County Council</option>
                        <option value="Meath County">Meath County Council</option>
                        <option value="Monaghan County">Monaghan County Council</option>
                        <option value="Offaly County">Offaly County Council</option>
                        <option value="Roscommon County">Roscommon County Council</option>
                        <option value="Sligo County">Sligo County Council</option>
                        <option value="South Dublin County">South Dublin County Council</option>
                        <option value="Tipperary County">Tipperary County Council</option>
                        <option value="Westmeath County">Westmeath County Council</option>
                        <option value="Wexford County">Wexford County Council</option>
                        <option value="Wicklow County">Wicklow County Council</option> 
                        <option value="{{ motion.council_name }}" selected>{{ motion.council_name }}</option>                       
                    </optgroup>
                    </select>
                    <label for="council_name">Councils</label>
                </div>
            </div>

            <!-- Topic -->
            <div class="row">
                 <div class="input-field col s12">
                    <i class="fas fa-align-left prefix amber-text text-darken-4"></i>
                    <select id="motion_category" name="motion_category" class="validate" required>
                        <option value="" disabled >Motion Topic</option>
                        <option value="{{ motion.motion_category }}" selected>{{ motion.motion_category}}</option>
                        <option value="Arts and Culture">Arts and Culture</option>
                        <option value="Economic Development">Economic Development</option>
                        <option value="Environment">Environment</option>
                        <option value="Finance">Finance</option>
                        <option value="Housing and Homelessness">Housing and Homelessness</option>
                        <option value="Human Rights">Human Rights</option>
                        <option value="International Relations">International Relations</option>
                        <option value="Local Property Tax">Local Property Tax</option>
                        <option value="Planning and Zoning">Planning and Zoning</option>
                        <option value="Transport">Transport</option>
                        <option value="Waste Management">Waste Management</option>
                    </select>
                    <label for="motion_category">Topics</label>
                </div>
            </div>

            
            <!-- Motion text -->
            <div class="row">
                 <div class="input-field col s12">
                    <i class="fas fa-copy prefix amber-text text-darken-4"></i>
                    <textarea id="motion_text" name="motion_text" minlength="5"
                        maxlength="1500" class="materialize-textarea validate" required>{{ motion.motion_text}}</textarea>
                    <label for="motion_text">Paste the text of the motion here</label>
                </div>
            </div>

            <!-- Motion pass/not -->
            <div class="row">
				<div class="input-field col s12">
					<div class="switch">
                        <i class="fas fa-question prefix amber-text text-darken-4"></i>
						<label for="motion_pass">
                            {% if motion.motion_pass == "on" %}
                                <input type="checkbox" id="motion_pass" name="motion_pass" checked>
                            {% else %}
                            Motion rejected
                                <input type="checkbox" id="motion_pass" name="motion_pass">
                            {% endif %}
                            <span class="lever"></span>
                            Motion passed
                        </label>
					</div>
                </div>
            </div>

            <!-- Motion url -->
            <div class="row">
                 <div class="input-field col s12">
                    <i class="fas fa-link prefix amber-text text-darken-4"></i>
                    <input id="link" type="url" name="link" minlength="5" maxlength="250" class="validate" required value="{{ motion.link }}">
                    <label for="link">Paste the URL to the minutes of the relevant council meeting</label>
                </div>
            </div>

            <!-- submit button -->
            <div class="row">
                <div class="col s12 center-align">
                    <!-- cancel button -->
                    <a href="{{ url_for('get_motions') }}" class="waves-effect deep-orange accent-4 btn-large">
                        Cancel <i class="fas fa-ban"></i>
                    </a>
                    <button type="submit" class="btn-large orange waves-effect waves-green text-shadow">
                        Edit Motion <i class="fas fa-edit right"></i>
                    </button>
                </div>
            </div>
        </form>
    </div>

{% endblock %}